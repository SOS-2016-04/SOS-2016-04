<html>
<head>


	<script type="text/javascript" language="javascript" src="jquery.js"></script> 
<script type="text/javascript" language="javascript" src="jquery.dataTables.js"></script> 


   <script type="text/javascript" 
   src="//code.jquery.com/jquery-1.12.0.min.js"></script>


<script type="text/javascript" charset="utf-8">

$(document).ready(() => {

	var tabla = "<table id='tabla' class='display' width='100%'' cellspacing='0'><thead><tr><th>country</th><th>year</th><th>population_0_14</th><th>population_15_64</th></tr></thead><tbody>";


var request = $.ajax({
            url: "http://sos-2016-04.herokuapp.com/api/v1/population-percentage-by-age?apikey=secret",
            type: "GET",
            data: "",
            dataType: "JSON",
            contentType: "application/json"
            });


request.done(function(data,status,jqXHR){



			for (var i=0 ; i<data.length ; i++)
			{
				tabla = tabla + "<tr><td>"+data[i].country+"</td><td>"+data[i].year+"</td><td>"+data[i].population_0_14+"</td><td>"+data[i].population_15_64+"</td></tr>";

			}

			tabla = tabla + "</tbody></table>";

			console.log(tabla);

			$("#ta").html(tabla);


		});




	$('#tabla').DataTable( {
			"bPaginate": false,
			"bLengthChange": false,
			"bFilter": true,
			"bSort": false,
			"bInfo": false,
			"bAutoWidth": false } );



	});


</script>
</head>
<body>

<div id="ta"></div>


</body>

</html>