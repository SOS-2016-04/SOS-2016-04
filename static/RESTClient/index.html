<html>
<head>
<script src="https://code.jquery.com/jquery-1.12.2.min.js"></script>

<script>
$(document).ready(() => {

	$("#button").click(function () {

		var var_url = $("#url").val();
		var var_datos_entrada = $("#payload").val();
		var var_metodo = $('input:radio[name=method]:checked').attr("id");
		var parsedData;

		var objeto_javascript = JSON.stringify(var_datos_entrada);

		var request = $.ajax({
            url: var_url,
            data: var_datos_entrada
            });

		


		request.always(function(jqXHR, status) {

			/*var statusCode = jqXHR.status;

			console.log(statusCode);

			$("#status").text(statusCode);*/

			

		});


		request.done(function(data,status,jqXHR){
			
			var statusCode = jqXHR.status;

			console.log(statusCode);

			$("#status").text(statusCode);

			dataJS = JSON.stringify(data);

			$("#data").text(dataJS);
			


			

		});





	});

	});


</script>
</head>
<body>

<h1>JQuery REST Client</h1>
URL: <input id="url" size="30" value="/api/v1/population-percentage-by-age?apikey=secret"/>
      GET <input name="method" type="radio" id="GET" checked="checked" /> &nbsp;&nbsp;
      POST <input name="method" type="radio" id="POST" /> &nbsp;&nbsp;
      PUT <input name="method" type="radio" id="PUT" /> &nbsp;&nbsp;
      DELETE <input name="method" type="radio" id="DELETE" /> &nbsp;&nbsp;
      <br/>
      Payload: <input id="payload" size="60" value='{"country":"sevilla","age":99000,"population_0_14":6,"population_15_64":80}'/>
      <br/><br/>
      <span id="button">Send</span>
      <br/><hr/>
      HTTP Status: <span id="status"></span>
      <br/><hr/>
      <span id="data"></span>
      <br/><hr/>
      <ul id="List"></ul>
      <hr/>
      Log: <span id="Log"></span>

</body>
</html>